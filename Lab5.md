#Laba5

Для лабораторної роботи необхідно завантажити zip файл з даними за посиланням: «https://www.dropbox.com/s/i9wi47oyhfb7qlh/rprog_data_specdata.zip?dl=0».
Це файл містить 332 csv файлів, що містять у собі результати спостережень за забрудненням повітря дрібнодисперсними частками (fine particular matter air pollution) у 332 локаціях у США. Кожен файл містить дані з одного монітору. ID номер кожного монітору міститься у назві файлу. Наприклад, дані з монітору під номером 200 містяться у файлі «200.csv». Кожен файл містить три змінні: Data: дата спостереження в форматі (рік-місяць-день), sulfate: рівень сульфатних часток в повітрі на дату (мікрограми на кубічний метр) та nitrate: рівень нітратних часток в повітрі на дату (мікрограми на кубічний метр). Для цій роботи необхідно додати на Github файл pmean.R, який містить усі функції. В файлі md необхідно указати виклик функції з аргументами та вивід у консоль результатів роботи функцій.

1.Написати функцію pmean, яка обчислює середнє значення (mean) забруднення сульфатами або нітратами серед заданого переліка моніторів. Ця функція приймає три аргументи: «directory», «pollutant», «id». Directory – папка, в якій розміщені дані, pollutant – вид забруднення, id – перелік моніторів. Аргумент id має значення за замовчуванням 1:332. Функція повинна ігнорувати NA значення. Приклад роботи функції:

```r
> pmean(specdata, "sulfate", 55)
[1] 3.587319
> pmean("specdata", "nitrate", 1:45)
[1] 2.519336
> pmean(specdata, "sulfate")
[1] 3.189369
> pmean("specdata", "nitrate")
[1] 1.702932
> pmean(specdata, "sulfate", 1:150)
[1] 3.055518
``` 
2.Написати функцію complete, яка виводить кількість повних спостережень (the number of completely observed cases) для кожного файлу. Функція приймає два аргументи: «Directory» та «id» та повертає data frame, в якому перший стовпчик – ім’я файлу, а другий – кількість повних спостережень.

```r
> complete("specdata", 10:30)
   id nobs
1  10  148
2  11  443
3  12   96
4  13   46
5  14   96
6  15   83
7  16   60
8  17  927
9  18   84
10 19  353
11 20  124
12 21  426
13 22  135
14 23  492
15 24  885
16 25  463
17 26  586
18 27  338
19 28  475
20 29  711
21 30  932

> complete("specdata", c(3, 5, 7, 9))
  name observ
1    3    243
2    5    402
3    7    442
4    9    275

> complete("specdata", 200)
  name observ
1  200    460

```
3.Написати функцію corr, яка приймає два аргументи: directory (папка, де знаходяться файли спостережень) та threshold (порогове значення, за замовчуванням дорівнює 0) та обчислює кореляцію між сульфатами та нітратами для моніторів, кількість повних спостережень для яких більше порогового значення. Функція повинна повернути вектор значень кореляцій. Якщо ні один монітор не перевищує порогового значення, функція повинна повернути numeric вектор довжиною 0. Для обчислення кореляції між сульфатами та нітратами використовуйте вбудовану функцію «cor» з параметрами за замовчуванням.

```r
> cr <- corr("specdata", 300)
> head(cr); summary(cr)
[1] -0.01895754 -0.04389737 -0.06815956 -0.07588814  0.76312884 -0.15782860
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-0.18280 -0.03786  0.10840  0.13940  0.26870  0.76310 

> cr <- corr("specdata", 4000)
> head(cr); summary(cr) ; length(cr)
NULL
Length  Class   Mode 
     0   NULL   NULL 
[1] 0

> cr <- corr("specdata", 120)
> head(cr); summary(cr)
[1] -0.01895754 -0.14051254 -0.04389737 -0.06815956 -0.12350667 -0.07588814
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-0.28830 -0.05735  0.08940  0.11730  0.26340  0.76310 
```